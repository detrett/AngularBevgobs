{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./thread.service\";\nconst _c0 = function (a1) {\n  return [\"/subforum\", a1];\n};\nexport class ThreadContainerComponent {\n  constructor(_route, _router, _threadService) {\n    this._route = _route;\n    this._router = _router;\n    this._threadService = _threadService;\n    this.thread = null;\n  }\n  getThreadData(id) {\n    console.log(\"Thread Container Component: getThreadData()\");\n    this._threadService.getThreadById(+id).subscribe(data => {\n      this.thread = data;\n      console.log(\"Thread Name: \" + this.thread?.Name);\n      console.log(\"Total Comments: \" + this.thread?.Comments.length);\n    }, error => {\n      console.error('Error fetching subforum:', error);\n      this._router.navigate(['/']);\n    });\n  }\n  ngOnInit() {\n    console.log(\"Thread Container Component: ngOnInit()\");\n    this._route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id != null) {\n        this.getThreadData(+id);\n      } else {\n        console.error('Error fetching id');\n        this._router.navigate(['/']);\n      }\n    });\n  }\n}\nThreadContainerComponent.ɵfac = function ThreadContainerComponent_Factory(t) {\n  return new (t || ThreadContainerComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ThreadService));\n};\nThreadContainerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ThreadContainerComponent,\n  selectors: [[\"app-thread-container\"]],\n  decls: 20,\n  vars: 7,\n  consts: [[1, \"row\"], [\"id\", \"title\", 1, \"col\"], [1, \"title-font\"], [1, \"pager-container\", \"topic-listing-link\", \"mt-4\"], [3, \"routerLink\"], [1, \"fa-solid\", \"fa-chevron-left\"], [1, \"\"], [1, \"thread-container\", \"background-dark\", \"card\", \"row\"], [1, \"d-inline-flex\"], [1, \"thread-page-title\"], [1, \"teaser-background\", \"card\", \"comment-container\", \"guest-only\"], [1, \"pager-container\", \"topic-listing-link\"], [\"href\", \"\", \"id\", \"back-to-top-button\", \"data-bs-toggle\", \"tooltip\", \"title\", \"Back to top\"]],\n  template: function ThreadContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"@Model.ParentSubforum.Name\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"a\", 4);\n      i0.ɵɵelement(6, \"i\", 5);\n      i0.ɵɵtext(7, \" Go back to topic listing \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"section\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"h2\", 9);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(13, \"section\", 10);\n      i0.ɵɵtext(14, \" } } \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 11)(16, \"a\", 4);\n      i0.ɵɵelement(17, \"i\", 5);\n      i0.ɵɵtext(18, \" Go back to topic listing \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(19, \"a\", 12);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, ctx.thread == null ? null : ctx.thread.ParentId));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.thread == null ? null : ctx.thread.Name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, ctx.thread == null ? null : ctx.thread.ParentId));\n    }\n  },\n  dependencies: [i1.RouterLink],\n  styles: [\"body[_ngcontent-%COMP%] {\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGhyZWFkL3RocmVhZC1jb250YWluZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;AAWA,OAAM,MAAOA,wBAAwB;EAEnCC,YACUC,MAAsB,EACtBC,OAAe,EACfC,cAA6B;IAF7B,WAAM,GAANF,MAAM;IACN,YAAO,GAAPC,OAAO;IACP,mBAAc,GAAdC,cAAc;IAJxB,WAAM,GAAmB,IAAI;EAIc;EAE3CC,aAAa,CAACC,EAAU;IACtBC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;IAC1D,IAAI,CAACJ,cAAc,CAACK,aAAa,CAAC,CAACH,EAAE,CAAC,CAACI,SAAS,CAC9CC,IAAI,IAAG;MACL,IAAI,CAACC,MAAM,GAAGD,IAAI;MAClBJ,OAAO,CAACC,GAAG,CAAC,eAAe,GAAG,IAAI,CAACI,MAAM,EAAEC,IAAI,CAAC;MAChDN,OAAO,CAACC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAACI,MAAM,EAAEE,QAAQ,CAACC,MAAM,CAAC;IAChE,CAAC,EACDC,KAAK,IAAG;MACNT,OAAO,CAACS,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,IAAI,CAACb,OAAO,CAACc,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC,CACF;EACH;EAEAC,QAAQ;IACNX,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;IAErD,IAAI,CAACN,MAAM,CAACiB,QAAQ,CAACT,SAAS,CAACU,MAAM,IAAG;MACtC,MAAMd,EAAE,GAAGc,MAAM,CAACC,GAAG,CAAC,IAAI,CAAC;MAE3B,IAAIf,EAAE,IAAI,IAAI,EAAE;QACd,IAAI,CAACD,aAAa,CAAC,CAACC,EAAE,CAAC;OACxB,MAAM;QACLC,OAAO,CAACS,KAAK,CAAC,mBAAmB,CAAC;QAClC,IAAI,CAACb,OAAO,CAACc,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;IAEhC,CAAC,CAAC;EACJ;;AAnCWjB,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVrCC,8BAAiB;MAEUA,0CAA0B;MAAAA,iBAAK;MAK1DA,8BAAqD;MAEjDA,uBAAwC;MAACA,0CAC3C;MAAAA,iBAAI;MAINA,kCAAkB;MAKkBA,aAAgB;MAAAA,iBAAK;MAgDrDA,+BAIU;MAEVA,sBAGF;MAAAA,iBAAM;MAIRA,gCAAgD;MAE5CA,wBAAwC;MAACA,2CAC3C;MAAAA,iBAAI;MAuDNA,yBAAoF;;;MAlI/EA,eAA8C;MAA9CA,wGAA8C;MAWfA,eAAgB;MAAhBA,iEAAgB;MA8D/CA,eAA8C;MAA9CA,wGAA8C","names":["ThreadContainerComponent","constructor","_route","_router","_threadService","getThreadData","id","console","log","getThreadById","subscribe","data","thread","Name","Comments","length","error","navigate","ngOnInit","paramMap","params","get","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["D:\\VisualStudio\\source\\repos\\AngularBevgobs\\AngularBevgobs\\ClientApp\\src\\app\\thread\\thread-container.component.ts","D:\\VisualStudio\\source\\repos\\AngularBevgobs\\AngularBevgobs\\ClientApp\\src\\app\\thread\\thread-container.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IThread } from './thread';\r\nimport { ThreadService } from './thread.service';\r\n\r\n@Component({\r\n  selector: 'app-thread-container',\r\n  templateUrl: './thread-container.component.html',\r\n  styleUrls: ['./thread-container.component.css']\r\n})\r\n\r\nexport class ThreadContainerComponent implements OnInit {\r\n  thread: IThread | null = null;\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _threadService: ThreadService) { }\r\n\r\n  getThreadData(id: number): void {\r\n    console.log(\"Thread Container Component: getThreadData()\");\r\n    this._threadService.getThreadById(+id).subscribe(\r\n      data => {\r\n        this.thread = data;\r\n        console.log(\"Thread Name: \" + this.thread?.Name);\r\n        console.log(\"Total Comments: \" + this.thread?.Comments.length);\r\n      },\r\n      error => {\r\n        console.error('Error fetching subforum:', error);\r\n        this._router.navigate(['/']);\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"Thread Container Component: ngOnInit()\");\r\n\r\n    this._route.paramMap.subscribe(params => {\r\n      const id = params.get('id');\r\n\r\n      if (id != null) {\r\n        this.getThreadData(+id);\r\n      } else {\r\n        console.error('Error fetching id');\r\n        this._router.navigate(['/']);\r\n      }\r\n    });\r\n  }\r\n}\r\n","<!--Subforum Title-->\r\n<div class=\"row\">\r\n  <div class=\"col\" id=\"title\">\r\n    <h1 class=\"title-font\">@Model.ParentSubforum.Name</h1>\r\n  </div>\r\n</div>\r\n\r\n<!--Go back to thread list-->\r\n<div class=\"pager-container topic-listing-link mt-4\">\r\n  <a [routerLink]=\"['/subforum', thread?.ParentId]\">\r\n    <i class=\"fa-solid fa-chevron-left\"></i> Go back to topic listing\r\n  </a>\r\n</div>\r\n\r\n<!--Start of Thread Container-->\r\n<section class=\"\">\r\n  <div class=\"thread-container background-dark card row\">\r\n\r\n    <!--Thread title-->\r\n    <div class=\"d-inline-flex\">\r\n      <h2 class=\"thread-page-title\">{{thread?.Name}}</h2>\r\n\r\n      <!--@{\r\n      if (User.Identity.IsAuthenticated)\r\n      {\r\n      if (Model.UserId.ToString() == userId || currentUser.Rank == \"Mod\" || currentUser.Rank == \"Admin\")\r\n      {\r\n      <button type=\"button\" class=\"btn card-body std-purple-btn\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\" data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#editThread\" id=\"editThreadBtn\">\r\n        <i class=\"fa-solid fa-file-pen\"></i>\r\n        Edit Topic\r\n      </button>\r\n      }\r\n      if (Model.UserId.ToString() == userId || currentUser.Rank == \"Mod\" || currentUser.Rank == \"Admin\")\r\n      {\r\n      <button type=\"button\" class=\"btn card-body std-pink-btn\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\" data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#deleteThread\" id=\"deleteThreadBtn\">\r\n        <i class=\"fa-solid fa-trash\"></i>\r\n        Delete\r\n      </button>\r\n      }\r\n      }\r\n\r\n      }-->\r\n    </div>\r\n\r\n    <!--@{\r\n    foreach (var comment in Model.Comments)\r\n    {\r\n    @await Html.PartialAsync(\"_CommentList\", comment);\r\n    }\r\n    }\r\n    @{\r\n    System.Diagnostics.Debug.Assert(User.Identity != null, \"User.Identity != null\");\r\n    if (User.Identity.IsAuthenticated)\r\n    {\r\n\r\n    var newComment = new Comment();\r\n    newComment.Thread = Model;\r\n    newComment.ThreadId = Model.ThreadId;\r\n    newComment.Title = Model.Name;\r\n\r\n    @await Html.PartialAsync(\"_CommentBox\", newComment);\r\n\r\n    }\r\n    else\r\n    {-->\r\n    <!--guest teaser (guest only)-->\r\n    <section class=\"teaser-background card comment-container guest-only\">\r\n\r\n      <!--@await Html.PartialAsync(\"_GuestTeaser\")-->\r\n\r\n    </section>\r\n    <!--end of guest teaser (guest only)-->\r\n    }\r\n    }\r\n\r\n  </div>\r\n</section>\r\n<!--End of Thread Container-->\r\n<!--Go back to thread list-->\r\n<div class=\"pager-container topic-listing-link\">\r\n  <a [routerLink]=\"['/subforum', thread?.ParentId]\">\r\n    <i class=\"fa-solid fa-chevron-left\"></i> Go back to topic listing\r\n  </a>\r\n</div>\r\n\r\n<!-- Edit Thread Modal -->\r\n<!--<div class=\"modal fade\" id=\"editThread\" tabindex=\"-1\" aria-labelledby=\"editThreadLabel\" aria-hidden=\"true\" role=\"dialog\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\">\r\n  <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h1 class=\"modal-title fs-5 modal-font\" id=\"editThreadLabel\">Edit topic</h1>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      @{\r\n      var editThread = Model;\r\n      }\r\n      @await Html.PartialAsync(\"_EditThreadModal\", @editThread);\r\n\r\n    </div>\r\n  </div>\r\n</div>-->\r\n\r\n<!-- Deleting thread Modal -->\r\n<!--<div class=\"modal fade\" id=\"deleteThread\" tabindex=\"-1\" aria-labelledby=\"deleteThreadLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header fd-column\">\r\n        <div>\r\n          <span class=\"circle-icon\">\r\n            <i class=\"fa-solid fa-triangle-exclamation fa-2xl\"></i>\r\n          </span>\r\n\r\n        </div>\r\n        <div>\r\n          <h1 class=\"modal-title fs-5 modal-font\" id=\"deleteModalLabel\">Are you sure?</h1>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-body text-center\">\r\n        <h2 class=\"modal-subtitle mt-2\">This action cannot be undone.</h2>\r\n        <h3 class=\"modal-subtitle mb-5\">The content of your topic: <i>\"@Model.Name\"</i> will be lost forever.</h3>\r\n\r\n\r\n        <div>\r\n          <form asp-controller=\"Thread\" asp-action=\"DeleteConfirmed\" asp-route-id=\"@Model.ThreadId\" method=\"post\">\r\n            <button type=\"submit\" class=\"mb-3 std-pink-btn w-75\">Delete</button>\r\n          </form>\r\n        </div>\r\n        <div>\r\n          <button type=\"button\" class=\"mb-4 std-purple-btn w-75\" data-bs-dismiss=\"modal\" aria-label=\"Close\">Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>-->\r\n\r\n<!--Back to top button-->\r\n<a href=\"\" id=\"back-to-top-button\" data-bs-toggle=\"tooltip\" title=\"Back to top\"></a>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}