{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./thread.service\";\nimport * as i3 from \"@angular/common\";\nfunction ThreadContainerComponent_div_7_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 41);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", \"data:image/png;base64,\" + ctx_r2.currentUser.UserPhoto, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ThreadContainerComponent_div_7_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 41);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r3.currentUser.UserPhotoUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ThreadContainerComponent_div_7_img_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 42);\n  }\n}\nfunction ThreadContainerComponent_div_7_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"span\", 32)(2, \"em\");\n    i0.ɵɵtext(3, \"Welcome, \");\n    i0.ɵɵelementStart(4, \"span\", 44);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"!\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r5.currentUser.userName);\n  }\n}\nfunction ThreadContainerComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"a\", 26);\n    i0.ɵɵtemplate(3, ThreadContainerComponent_div_7_img_3_Template, 1, 1, \"img\", 27);\n    i0.ɵɵtemplate(4, ThreadContainerComponent_div_7_img_4_Template, 1, 1, \"img\", 27);\n    i0.ɵɵtemplate(5, ThreadContainerComponent_div_7_img_5_Template, 1, 0, \"img\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, ThreadContainerComponent_div_7_div_6_Template, 7, 1, \"div\", 29);\n    i0.ɵɵelementStart(7, \"div\", 30)(8, \"div\", 31);\n    i0.ɵɵtext(9, \" --> \");\n    i0.ɵɵelementStart(10, \"div\", 32)(11, \"a\", 33);\n    i0.ɵɵelement(12, \"i\", 34);\n    i0.ɵɵtext(13, \" My Profile \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(14, \"--> \");\n    i0.ɵɵelementStart(15, \"div\", 32)(16, \"a\", 35);\n    i0.ɵɵelement(17, \"i\", 36);\n    i0.ɵɵtext(18, \" Settings \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"div\", 31);\n    i0.ɵɵtext(20, \" --> \");\n    i0.ɵɵelementStart(21, \"div\", 32)(22, \"a\", 37);\n    i0.ɵɵelement(23, \"i\", 38);\n    i0.ɵɵtext(24, \" Inbox \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(25, \"--> \");\n    i0.ɵɵelementStart(26, \"div\", 32)(27, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function ThreadContainerComponent_div_7_Template_a_click_27_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.logout());\n    });\n    i0.ɵɵelement(28, \"i\", 40);\n    i0.ɵɵtext(29, \" Sign Out \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser == null ? null : ctx_r0.currentUser.UserPhoto);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser == null ? null : ctx_r0.currentUser.UserPhotoUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r0.currentUser == null ? null : ctx_r0.currentUser.UserPhoto));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentUser);\n  }\n}\nconst _c0 = function () {\n  return [\"/register\"];\n};\nconst _c1 = function () {\n  return [\"/login\"];\n};\nfunction ThreadContainerComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"span\", 17)(2, \"a\", 46);\n    i0.ɵɵtext(3, \"Register\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"span\", 17)(5, \"a\", 47);\n    i0.ɵɵtext(6, \"Sign In\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n  }\n}\nconst _c2 = function (a1) {\n  return [\"/subforum\", a1];\n};\nexport class ThreadContainerComponent {\n  constructor(_route, _router, _threadService) {\n    this._route = _route;\n    this._router = _router;\n    this._threadService = _threadService;\n    this.thread = null;\n  }\n  getThreadData(id) {\n    console.log(\"Thread Container Component: getThreadData()\");\n    this._threadService.getThreadById(+id).subscribe(data => {\n      this.thread = data;\n      console.log(\"Thread Name: \" + this.thread?.Name);\n      console.log(\"Total Comments: \" + this.thread?.Comments.length);\n    }, error => {\n      console.error('Error fetching subforum:', error);\n      this._router.navigate(['/']);\n    });\n  }\n  ngOnInit() {\n    console.log(\"Thread Container Component: ngOnInit()\");\n    this._route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id != null) {\n        this.getThreadData(+id);\n      } else {\n        console.error('Error fetching id');\n        this._router.navigate(['/']);\n      }\n    });\n  }\n}\nThreadContainerComponent.ɵfac = function ThreadContainerComponent_Factory(t) {\n  return new (t || ThreadContainerComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ThreadService));\n};\nThreadContainerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ThreadContainerComponent,\n  selectors: [[\"app-thread-container\"]],\n  decls: 35,\n  vars: 10,\n  consts: [[1, \"banner\", \"clearfix\", \"container-fluid\"], [\"id\", \"banner\", 1, \"background-light\", \"card\", \"flex-1\", \"row\"], [1, \"col-md-6\", \"banner-message\"], [1, \"header-font\"], [\"class\", \"m-1 col-md-5 member-only flex-1\", \"id\", \"userPanel\", 4, \"ngIf\"], [\"class\", \"col-md-4 text-justify guest-only\", \"id\", \"buttonPanel\", 4, \"ngIf\"], [1, \"background-dark\", \"card-footer\", \"justify-content-start\"], [1, \"col-md\"], [\"aria-label\", \"breadcrumb\"], [1, \"breadcrumb\"], [\"aria-current\", \"page\", 1, \"breadcrumb-item\", \"active\"], [1, \"row\"], [\"id\", \"title\", 1, \"col\"], [1, \"title-font\"], [1, \"pager-container\", \"topic-listing-link\", \"mt-4\"], [3, \"routerLink\"], [1, \"fa-solid\", \"fa-chevron-left\"], [1, \"\"], [1, \"thread-container\", \"background-dark\", \"card\", \"row\"], [1, \"d-inline-flex\"], [1, \"thread-page-title\"], [1, \"teaser-background\", \"card\", \"comment-container\", \"guest-only\"], [1, \"pager-container\", \"topic-listing-link\"], [\"href\", \"\", \"id\", \"back-to-top-button\", \"data-bs-toggle\", \"tooltip\", \"title\", \"Back to top\"], [\"id\", \"userPanel\", 1, \"m-1\", \"col-md-5\", \"member-only\", \"flex-1\"], [1, \"user-picture-container-header\"], [\"title\", \"Go to profile\"], [\"alt\", \"Profile Picture\", \"class\", \"img-thumbnail\", 3, \"src\", 4, \"ngIf\"], [\"src\", \"assets/images/defaultuser.png\", \"alt\", \"Profile Picture\", \"class\", \"img-thumbnail\", 4, \"ngIf\"], [\"class\", \"m-auto text-center\", \"id\", \"userWelcome\", 4, \"ngIf\"], [\"id\", \"banner-user-options\", 1, \"m-auto\"], [1, \"p-2\"], [1, \"p-1\"], [\"title\", \"Go to profile\", \"asp-area\", \"Identity\", \"asp-page\", \"/Account/Manage/Index\", 1, \"lighter-link\"], [1, \"fa-solid\", \"fa-user\"], [\"title\", \"Edit your profile\", \"asp-area\", \"Identity\", \"asp-page\", \"/Account/Manage/Index\", 1, \"lighter-link\"], [1, \"fa-solid\", \"fa-gear\"], [\"href\", \"#\", \"title\", \"Go to inbox\", 1, \"lighter-link\"], [1, \"fa-solid\", \"fa-inbox\"], [\"title\", \"Sign Out\", 1, \"lighter-link\", 3, \"click\"], [1, \"fa-solid\", \"fa-right-from-bracket\"], [\"alt\", \"Profile Picture\", 1, \"img-thumbnail\", 3, \"src\"], [\"src\", \"assets/images/defaultuser.png\", \"alt\", \"Profile Picture\", 1, \"img-thumbnail\"], [\"id\", \"userWelcome\", 1, \"m-auto\", \"text-center\"], [1, \"userTitle\"], [\"id\", \"buttonPanel\", 1, \"col-md-4\", \"text-justify\", \"guest-only\"], [\"id\", \"registerBtn\", 1, \"card-body\", \"std-pink-btn\", 3, \"routerLink\"], [\"id\", \"signInBtn\", 1, \"card-body\", \"std-purple-btn\", 3, \"routerLink\"]],\n  template: function ThreadContainerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"p\", 3);\n      i0.ɵɵtext(4, \" Welcome to the Beverage Goblins online community. \");\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵtext(6, \" A place to discuss all things related to drinks with other people that share your enthusiasm for beverages. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(7, ThreadContainerComponent_div_7_Template, 30, 4, \"div\", 4);\n      i0.ɵɵtemplate(8, ThreadContainerComponent_div_8_Template, 7, 4, \"div\", 5);\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"nav\", 8)(12, \"ol\", 9)(13, \"li\", 10);\n      i0.ɵɵtext(14, \"Board Index\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(15, \"div\", 11)(16, \"div\", 12)(17, \"h1\", 13);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 14)(20, \"a\", 15);\n      i0.ɵɵelement(21, \"i\", 16);\n      i0.ɵɵtext(22, \" Go back to topic listing \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"section\", 17)(24, \"div\", 18)(25, \"div\", 19)(26, \"h2\", 20);\n      i0.ɵɵtext(27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(28, \"section\", 21);\n      i0.ɵɵtext(29, \" } } \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 22)(31, \"a\", 15);\n      i0.ɵɵelement(32, \"i\", 16);\n      i0.ɵɵtext(33, \" Go back to topic listing \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(34, \"a\", 23);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate(ctx.thread == null ? null : ctx.thread.ParentId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c2, ctx.thread == null ? null : ctx.thread.ParentId));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.thread == null ? null : ctx.thread.Name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c2, ctx.thread == null ? null : ctx.thread.ParentId));\n    }\n  },\n  dependencies: [i3.NgIf, i1.RouterLink],\n  styles: [\"body[_ngcontent-%COMP%] {\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGhyZWFkL3RocmVhZC1jb250YWluZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ThreadContainerComponent","constructor","_route","_router","_threadService","getThreadData","id","console","log","getThreadById","subscribe","data","thread","Name","Comments","length","error","navigate","ngOnInit","paramMap","params","get","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\VisualStudio\\source\\repos\\AngularBevgobs\\AngularBevgobs\\ClientApp\\src\\app\\thread\\thread-container.component.html","D:\\VisualStudio\\source\\repos\\AngularBevgobs\\AngularBevgobs\\ClientApp\\src\\app\\thread\\thread-container.component.ts"],"sourcesContent":["<!-- MAIN CONTENT -->\r\n<div class=\"banner clearfix container-fluid\">\r\n\r\n  <!-- START OF BANNER (Welcome + Log In/ Sign In + User Icon (After Log In) + Breadcrumbs) -->\r\n  <div class=\"background-light card flex-1 row\" id=\"banner\">\r\n\r\n    <!--Welcome message-->\r\n    <div class=\"col-md-6 banner-message\">\r\n      <p class=\"header-font\">\r\n        Welcome to the Beverage Goblins online community.\r\n        <br> A place to discuss all things related to drinks with other people that share your enthusiasm\r\n        for beverages.\r\n      </p>\r\n    </div>\r\n\r\n    <!--Member only - Member panel-->\r\n    <!-- Member only - Member panel -->\r\n    <div *ngIf=\"isAuthenticated\" class=\"m-1 col-md-5 member-only flex-1\" id=\"userPanel\">\r\n      <!-- User picture -->\r\n      <div class=\"user-picture-container-header\">\r\n        <a title=\"Go to profile\">\r\n          <!-- If user photo exists, display it -->\r\n          <img *ngIf=\"currentUser?.UserPhoto\" [src]=\"'data:image/png;base64,' + currentUser.UserPhoto\" alt=\"Profile Picture\" class=\"img-thumbnail\">\r\n          <!-- If user photo URL exists, display it -->\r\n          <img *ngIf=\"currentUser?.UserPhotoUrl\" [src]=\"currentUser.UserPhotoUrl\" alt=\"Profile Picture\" class=\"img-thumbnail\">\r\n          <!-- Display default profile picture if no user photo exists -->\r\n          <img *ngIf=\"!currentUser?.UserPhoto\" src=\"assets/images/defaultuser.png\" alt=\"Profile Picture\" class=\"img-thumbnail\">\r\n\r\n        </a>\r\n      </div>\r\n      <!-- User welcome -->\r\n      <div *ngIf=\"currentUser\" class=\"m-auto text-center\" id=\"userWelcome\">\r\n        <span class=\"p-1\">\r\n          <em>Welcome, <span class=\"userTitle\">{{ currentUser.userName }}</span>!</em>\r\n        </span>\r\n      </div>\r\n\r\n\r\n      <div class=\"m-auto\" id=\"banner-user-options\">\r\n\r\n        <div class=\"p-2\">\r\n          -->\r\n          <!--Profile-->\r\n          <div class=\"p-1\">\r\n            <a title=\"Go to profile\" class=\"lighter-link\" asp-area=\"Identity\" asp-page=\"/Account/Manage/Index\">\r\n              <i class=\"fa-solid fa-user\"></i>\r\n              My Profile\r\n            </a>\r\n          </div>-->\r\n          <!--Settings-->\r\n          <div class=\"p-1\">\r\n            <a title=\"Edit your profile\" class=\"lighter-link\" asp-area=\"Identity\" asp-page=\"/Account/Manage/Index\">\r\n              <i class=\"fa-solid fa-gear\"></i>\r\n              Settings\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"p-2\">\r\n          -->\r\n          <!--Inbox-->\r\n          <div class=\"p-1\">\r\n            <a href=\"#\" title=\"Go to inbox\" class=\"lighter-link\">\r\n              <i class=\"fa-solid fa-inbox\"></i>\r\n              Inbox\r\n            </a>\r\n          </div>-->\r\n          <!--Sign Out-->\r\n          <div class=\"p-1\">\r\n            <a title=\"Sign Out\" class=\"lighter-link\" (click)=\"logout()\">\r\n              <i class=\"fa-solid fa-right-from-bracket\"></i>\r\n              Sign Out\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n    <!-- Guest only -->\r\n    <div *ngIf=\"!isAuthenticated\" class=\"col-md-4 text-justify guest-only\" id=\"buttonPanel\">\r\n      <span class=\"\"><a [routerLink]=\"['/register']\" class=\"card-body std-pink-btn\" id=\"registerBtn\">Register</a></span>\r\n      <span class=\"\"><a [routerLink]=\"['/login']\" class=\"card-body std-purple-btn\" id=\"signInBtn\">Sign In</a></span>\r\n    </div>\r\n\r\n    <div class=\"background-dark card-footer justify-content-start\">\r\n\r\n      <div class=\"col-md\">\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Board Index</li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n    <!--Subforum Title-->\r\n    <div class=\"row\">\r\n      <div class=\"col\" id=\"title\">\r\n        <h1 class=\"title-font\">{{thread?.ParentId}}</h1>\r\n      </div>\r\n    </div>\r\n\r\n    <!--Go back to thread list-->\r\n    <div class=\"pager-container topic-listing-link mt-4\">\r\n      <a [routerLink]=\"['/subforum', thread?.ParentId]\">\r\n        <i class=\"fa-solid fa-chevron-left\"></i> Go back to topic listing\r\n      </a>\r\n    </div>\r\n\r\n    <!--Start of Thread Container-->\r\n    <section class=\"\">\r\n      <div class=\"thread-container background-dark card row\">\r\n\r\n        <!--Thread title-->\r\n        <div class=\"d-inline-flex\">\r\n          <h2 class=\"thread-page-title\">{{thread?.Name}}</h2>\r\n\r\n          <!--@{\r\n          if (User.Identity.IsAuthenticated)\r\n          {\r\n          if (Model.UserId.ToString() == userId || currentUser.Rank == \"Mod\" || currentUser.Rank == \"Admin\")\r\n          {\r\n          <button type=\"button\" class=\"btn card-body std-purple-btn\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\" data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#editThread\" id=\"editThreadBtn\">\r\n            <i class=\"fa-solid fa-file-pen\"></i>\r\n            Edit Topic\r\n          </button>\r\n          }\r\n          if (Model.UserId.ToString() == userId || currentUser.Rank == \"Mod\" || currentUser.Rank == \"Admin\")\r\n          {\r\n          <button type=\"button\" class=\"btn card-body std-pink-btn\" data-bs-keyboard=\"false\" data-bs-backdrop=\"static\" data-bs-toggle=\"modal\"\r\n                  data-bs-target=\"#deleteThread\" id=\"deleteThreadBtn\">\r\n            <i class=\"fa-solid fa-trash\"></i>\r\n            Delete\r\n          </button>\r\n          }\r\n          }\r\n\r\n          }-->\r\n        </div>\r\n\r\n        <!--@{\r\n        foreach (var comment in Model.Comments)\r\n        {\r\n        @await Html.PartialAsync(\"_CommentList\", comment);\r\n        }\r\n        }\r\n        @{\r\n        System.Diagnostics.Debug.Assert(User.Identity != null, \"User.Identity != null\");\r\n        if (User.Identity.IsAuthenticated)\r\n        {\r\n\r\n        var newComment = new Comment();\r\n        newComment.Thread = Model;\r\n        newComment.ThreadId = Model.ThreadId;\r\n        newComment.Title = Model.Name;\r\n\r\n        @await Html.PartialAsync(\"_CommentBox\", newComment);\r\n\r\n        }\r\n        else\r\n        {-->\r\n        <!--guest teaser (guest only)-->\r\n        <section class=\"teaser-background card comment-container guest-only\">\r\n\r\n          <!--@await Html.PartialAsync(\"_GuestTeaser\")-->\r\n\r\n        </section>\r\n        <!--end of guest teaser (guest only)-->\r\n        }\r\n        }\r\n\r\n      </div>\r\n    </section>\r\n    <!--End of Thread Container-->\r\n    <!--Go back to thread list-->\r\n    <div class=\"pager-container topic-listing-link\">\r\n      <a [routerLink]=\"['/subforum', thread?.ParentId]\">\r\n        <i class=\"fa-solid fa-chevron-left\"></i> Go back to topic listing\r\n      </a>\r\n    </div>\r\n\r\n    <!-- Edit Thread Modal -->\r\n    <!--<div class=\"modal fade\" id=\"editThread\" tabindex=\"-1\" aria-labelledby=\"editThreadLabel\" aria-hidden=\"true\" role=\"dialog\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h1 class=\"modal-title fs-5 modal-font\" id=\"editThreadLabel\">Edit topic</h1>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          @{\r\n          var editThread = Model;\r\n          }\r\n          @await Html.PartialAsync(\"_EditThreadModal\", @editThread);\r\n\r\n        </div>\r\n      </div>\r\n    </div>-->\r\n    <!-- Deleting thread Modal -->\r\n    <!--<div class=\"modal fade\" id=\"deleteThread\" tabindex=\"-1\" aria-labelledby=\"deleteThreadLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header fd-column\">\r\n            <div>\r\n              <span class=\"circle-icon\">\r\n                <i class=\"fa-solid fa-triangle-exclamation fa-2xl\"></i>\r\n              </span>\r\n\r\n            </div>\r\n            <div>\r\n              <h1 class=\"modal-title fs-5 modal-font\" id=\"deleteModalLabel\">Are you sure?</h1>\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body text-center\">\r\n            <h2 class=\"modal-subtitle mt-2\">This action cannot be undone.</h2>\r\n            <h3 class=\"modal-subtitle mb-5\">The content of your topic: <i>\"@Model.Name\"</i> will be lost forever.</h3>\r\n\r\n\r\n            <div>\r\n              <form asp-controller=\"Thread\" asp-action=\"DeleteConfirmed\" asp-route-id=\"@Model.ThreadId\" method=\"post\">\r\n                <button type=\"submit\" class=\"mb-3 std-pink-btn w-75\">Delete</button>\r\n              </form>\r\n            </div>\r\n            <div>\r\n              <button type=\"button\" class=\"mb-4 std-purple-btn w-75\" data-bs-dismiss=\"modal\" aria-label=\"Close\">Cancel</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>-->\r\n    <!--Back to top button-->\r\n    <a href=\"\" id=\"back-to-top-button\" data-bs-toggle=\"tooltip\" title=\"Back to top\"></a>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IThread } from './thread';\r\nimport { ThreadService } from './thread.service';\r\n\r\n@Component({\r\n  selector: 'app-thread-container',\r\n  templateUrl: './thread-container.component.html',\r\n  styleUrls: ['./thread-container.component.css']\r\n})\r\n\r\nexport class ThreadContainerComponent implements OnInit {\r\n  thread: IThread | null = null;\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _threadService: ThreadService) { }\r\n\r\n  getThreadData(id: number): void {\r\n    console.log(\"Thread Container Component: getThreadData()\");\r\n    this._threadService.getThreadById(+id).subscribe(\r\n      data => {\r\n        this.thread = data;\r\n        console.log(\"Thread Name: \" + this.thread?.Name);\r\n        console.log(\"Total Comments: \" + this.thread?.Comments.length);\r\n      },\r\n      error => {\r\n        console.error('Error fetching subforum:', error);\r\n        this._router.navigate(['/']);\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"Thread Container Component: ngOnInit()\");\r\n\r\n    this._route.paramMap.subscribe(params => {\r\n      const id = params.get('id');\r\n\r\n      if (id != null) {\r\n        this.getThreadData(+id);\r\n      } else {\r\n        console.error('Error fetching id');\r\n        this._router.navigate(['/']);\r\n      }\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}