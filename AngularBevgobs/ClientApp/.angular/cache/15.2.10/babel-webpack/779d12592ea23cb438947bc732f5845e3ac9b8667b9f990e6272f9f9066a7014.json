{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/authentication.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction UserSettingsComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nexport class UserSettingsComponent {\n  constructor(authService, formBuilder) {\n    this.authService = authService;\n    this.formBuilder = formBuilder;\n    // Initialize currentUser with default values to avoid null/undefined issues\n    this.currentUser = {\n      email: '',\n      username: '',\n      id: null\n      // Add other properties if necessary\n    };\n\n    this.loading = false;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    this.initializeForm();\n    this.loadCurrentUser();\n  }\n  loadCurrentUser() {\n    const userId = localStorage.getItem('userId');\n    if (userId) {\n      this.authService.getUserDetails(+userId).subscribe({\n        next: user => {\n          this.currentUser = user;\n          this.updateFormValues(user);\n        },\n        error: err => {\n          console.error('Error fetching user details:', err);\n        }\n      });\n    } else {\n      console.error('User ID not found in local storage');\n    }\n  }\n  initializeForm() {\n    this.settingsForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      username: ['', Validators.required],\n      password: ['', [Validators.minLength(8)]]\n    });\n  }\n  updateFormValues(user) {\n    this.settingsForm.patchValue({\n      email: user.email,\n      username: user.username\n      // Update other form controls here if needed\n    });\n  }\n\n  onProfilePictureChange(event) {\n    // Handle profile picture change here\n  }\n  onUpdateSettings() {\n    if (this.settingsForm.valid) {\n      this.loading = true;\n      const updatedUserData = {\n        ...this.settingsForm.value,\n        id: this.currentUser.id // Ensure the user ID is included\n      };\n\n      this.authService.updateUserDetails(this.currentUser.id, updatedUserData).subscribe({\n        next: response => {\n          console.log('User settings updated', response);\n          this.loading = false;\n          this.currentUser = {\n            ...this.currentUser,\n            ...updatedUserData\n          };\n        },\n        error: err => {\n          this.errorMessage = 'Error updating user settings';\n          console.error('Error updating user settings:', err);\n          this.loading = false;\n        }\n      });\n    }\n  }\n  static #_ = this.ɵfac = function UserSettingsComponent_Factory(t) {\n    return new (t || UserSettingsComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserSettingsComponent,\n    selectors: [[\"app-user-settings\"]],\n    decls: 33,\n    vars: 3,\n    consts: [[2, \"display\", \"flex\", \"justify-content\", \"center\", \"align-items\", \"center\", \"min-height\", \"100vh\", \"padding\", \"20px\"], [1, \"settings-card\", 2, \"max-width\", \"2000px\", \"margin\", \"auto\", \"width\", \"100%\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"col-12\", \"mb-5\"], [1, \"col-5\", \"border-pink\", \"rounded\", \"m-20\", \"background-light\", \"card\", \"pb-2\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"h3\", \"mb-3\", \"mt-4\", \"std-color\"], [1, \"form-floating\", \"mb-2\"], [\"type\", \"email\", \"formControlName\", \"email\", 1, \"form-control\", \"custom-form-control\"], [1, \"form-label\", \"custom-form-label\"], [1, \"fa-regular\", \"fa-envelope\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\", \"custom-form-control\"], [1, \"fa-solid\", \"fa-user\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", \"custom-form-control\"], [1, \"fa-solid\", \"fa-lock\"], [1, \"mb-2\"], [\"type\", \"file\", \"name\", \"profilePicture\", 3, \"change\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"d-flex\"], [\"type\", \"submit\", 1, \"mb-3\", \"std-purple-btn\", \"m-auto\", 3, \"disabled\"], [1, \"error-message\"]],\n    template: function UserSettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function UserSettingsComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onUpdateSettings();\n        });\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"h1\", 6);\n        i0.ɵɵtext(7, \"User Settings\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"hr\");\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelement(10, \"input\", 8);\n        i0.ɵɵelementStart(11, \"label\", 9);\n        i0.ɵɵelement(12, \"i\", 10);\n        i0.ɵɵelementStart(13, \"span\");\n        i0.ɵɵtext(14, \"E-mail\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 7);\n        i0.ɵɵelement(16, \"input\", 11);\n        i0.ɵɵelementStart(17, \"label\", 9);\n        i0.ɵɵelement(18, \"i\", 12);\n        i0.ɵɵelementStart(19, \"span\");\n        i0.ɵɵtext(20, \"Username\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 7);\n        i0.ɵɵelement(22, \"input\", 13);\n        i0.ɵɵelementStart(23, \"label\", 9);\n        i0.ɵɵelement(24, \"i\", 14);\n        i0.ɵɵelementStart(25, \"span\");\n        i0.ɵɵtext(26, \"Password\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(27, \"div\", 15)(28, \"input\", 16);\n        i0.ɵɵlistener(\"change\", function UserSettingsComponent_Template_input_change_28_listener($event) {\n          return ctx.onProfilePictureChange($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(29, UserSettingsComponent_div_29_Template, 2, 1, \"div\", 17);\n        i0.ɵɵelementStart(30, \"div\", 18)(31, \"button\", 19);\n        i0.ɵɵtext(32, \"Update Settings\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.settingsForm);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.settingsForm.valid);\n      }\n    },\n    dependencies: [i3.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n    styles: [\"[_ngcontent-%COMP%]:root {\\n  \\n  --spx-0: 0px;\\n  --spx-1: 4px;\\n  --spx-2: 8px;\\n  --spx-3: 12px;\\n  --spx-4: 16px;\\n  --spx-5: 20px;\\n  --spx-6: 24px;\\n  --spx-7: 28px;\\n  --spx-8: 32px;\\n  --spx-9: 36px;\\n  --spx-10: 40px;\\n  \\n  --box--std-box-shadow: 0px 5px 6px -2px rgba(0, 0, 0, 0.75);\\n  --box--light-box-shadow: 0px 5px 10px 0px rgba(45, 55, 72, 0.1);\\n  --box--lighter-box-shadow: 0px 10px 20px 2px rgba(45, 55, 72, 0.25);\\n  --box--pink-box-shadow-1: 0px 10px 20px 2px #fc375c80;\\n  --box--pink-box-shadow-2: 0px 10px 20px 2px #fc375c40;\\n  \\n  --bold: 600;\\n  --bolder: 700;\\n}\\n\\n\\n\\na[_ngcontent-%COMP%] {\\n  color: #171717;\\n  text-decoration: none;\\n}\\n\\na[_ngcontent-%COMP%]:hover {\\n  color: white;\\n}\\n\\na[aria-expanded=true][_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\na[aria-expanded=false][_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n.adminTitle[_ngcontent-%COMP%] {\\n  font-weight: 700;\\n  color: #285de5;\\n}\\n\\na.adminTitle[_ngcontent-%COMP%]:hover {\\n  color: #171717;\\n  font-weight: 800;\\n}\\n\\n.modTitle[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: #b00000;\\n}\\n\\na.modTitle[_ngcontent-%COMP%]:hover {\\n  font-weight: 700;\\n  color: #171717;\\n}\\n\\n.memberTitle[_ngcontent-%COMP%] {\\n  font-weight: 400;\\n  color: #433B60;\\n}\\n\\na.memberTitle[_ngcontent-%COMP%]:hover {\\n  font-weight: 600;\\n  color: #171717;\\n}\\n\\n.background-dark[_ngcontent-%COMP%] {\\n  background-color: #ecebd9;\\n}\\n\\n.background-light[_ngcontent-%COMP%] {\\n  background-color: #FFFEEB;\\n}\\n\\n.box[_ngcontent-%COMP%] {\\n  margin-top: 80px;\\n  position: relative;\\n  transform-style: preserve-3d;\\n}\\n\\n.box[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  inset: -5px;\\n  transform: translate3d(10px, 0px, -1px);\\n  z-index: -1;\\n  background: linear-gradient(90deg, rgba(255, 254, 235, 0.3) 0%, rgba(161, 157, 166, 0.3) 40%, rgba(67, 59, 96, 0.3) 100%);\\n  background-size: 400% 400%;\\n  animation: _ngcontent-%COMP%_box-gradient 15s ease infinite;\\n  filter: blur(10px);\\n}\\n\\n@keyframes _ngcontent-%COMP%_box-gradient {\\n  0% {\\n    background-position: 0% 50%;\\n  }\\n\\n  50% {\\n    background-position: 100% 50%;\\n  }\\n\\n  100% {\\n    background-position: 0% 50%;\\n  }\\n}\\n\\n.flip[_ngcontent-%COMP%] {\\n  transform: scaleX(-1);\\n}\\n\\n.breadcrumb[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n\\n.breadcrumb-item[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%] {\\n  color: #F83A5B;\\n}\\n\\n.card-body[_ngcontent-%COMP%] {\\n  padding-bottom: 2px;\\n}\\n\\n.flex-2[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  text-align: center;\\n}\\n\\n#footer[_ngcontent-%COMP%] {\\n  margin-top: 75px;\\n  box-shadow: 0 0 4px 1px #FFFEEB, 0 0 6px 2px #f9a3b2;\\n}\\n\\nheader[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  background: repeating-linear-gradient(-55deg, #2d293c40, #2d293c40 0px, #2d293c 10px, #2d293c 20px);\\n  display: flex;\\n  justify-content: center;\\n  margin: 80px 0px;\\n}\\n\\n\\n.logo[_ngcontent-%COMP%] {\\n  align-items: center;\\n  display: flex;\\n  justify-content: space-evenly;\\n}\\n\\n.logo-font[_ngcontent-%COMP%] {\\n  color: #e3e4bb;\\n  font-family: 'Creepster', cursive;\\n  font-size: 4.5em;\\n  line-height: normal;\\n  margin: auto;\\n  text-align: center;\\n  text-shadow: -3px -3px 0 #00ffff80, 3px -3px 0 #F83A5B80, -3px 3px 0 #00ffff80, 3px 3px 0 #F83A5B80;\\n  word-spacing: 1rem;\\n}\\n\\n.logo-img[_ngcontent-%COMP%] {\\n  max-width: 120px;\\n  margin: auto;\\n}\\n\\n\\n\\n\\n.background-dark[_ngcontent-%COMP%] {\\n  background-color: #ecebd9;\\n}\\n\\n.background-light[_ngcontent-%COMP%] {\\n  background-color: #FFFEEB;\\n}\\n\\n.banner[_ngcontent-%COMP%] {\\n  background-color: #2d293c;\\n  margin-top: 25px;\\n  margin-bottom: 100px;\\n}\\n\\n.banner-message[_ngcontent-%COMP%] {\\n  padding: 18px 24px;\\n  margin: auto;\\n}\\n\\n#banner[_ngcontent-%COMP%] {\\n  box-shadow: 0 0 4px 1px #FFFEEB, 0 0 6px 2px #f9a3b2;\\n}\\n\\n#banner[_ngcontent-%COMP%]:hover   #registerBtn[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_bounce 1s normal forwards ease-in-out;\\n  animation-iteration-count: infinite;\\n}\\n\\n\\n@keyframes _ngcontent-%COMP%_bounce {\\n  10% {\\n    transform: scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0);\\n  }\\n\\n  30% {\\n    transform: scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em));\\n  }\\n\\n  50% {\\n    transform: scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0);\\n  }\\n\\n  57% {\\n    transform: scale(1) translateY(var(--fa-bounce-rebound,-.125em));\\n  }\\n\\n  64% {\\n    transform: scale(1) translateY(0);\\n  }\\n\\n  100% {\\n    transform: scale(1) translateY(0);\\n  }\\n}\\n\\n.breadcrumb[_ngcontent-%COMP%] {\\n  margin-bottom: 0;\\n}\\n\\n.flex-1[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.header-font[_ngcontent-%COMP%] {\\n  color: #505050;\\n  font-family: 'Inter', sans-serif;\\n  margin-bottom: 0;\\n}\\n\\n.std-pink-btn[_ngcontent-%COMP%] {\\n  background-color: #fc375c;\\n  border-radius: 5px;\\n  border: 1px solid #c12367;\\n  box-shadow: var(--box--std-box-shadow);\\n  display: inline-block;\\n  cursor: pointer;\\n  color: #ffffff;\\n  font-family: Arial;\\n  font-size: 14px;\\n  padding: 5px 5px;\\n  text-decoration: none;\\n  text-shadow: 0px 1px 0px #2d293c;\\n  width: 150px;\\n}\\n\\n.std-pink-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #ba2b45;\\n  transform: translateY(1px);\\n  transition: transform 0.1s ease;\\n}\\n\\n.std-pink-btn[_ngcontent-%COMP%]:active {\\n  position: relative;\\n  top: 1px;\\n}\\n\\n.std-purple-btn[_ngcontent-%COMP%] {\\n  background-color: #433b60;\\n  border-radius: 5px;\\n  border: 1px solid #2d293c;\\n  box-shadow: var(--box--std-box-shadow);\\n  display: inline-block;\\n  cursor: pointer;\\n  color: #ffffff;\\n  font-family: Arial;\\n  font-size: 14px;\\n  padding: 5px 5px;\\n  text-decoration: none;\\n  text-shadow: 0px 1px 0px #2d293c;\\n  width: 150px;\\n}\\n\\n.std-purple-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #2d293c;\\n  transform: translateY(1px);\\n  transition: transform 0.1s ease;\\n}\\n\\n.std-purple-btn[_ngcontent-%COMP%]:active {\\n  position: relative;\\n  top: 1px;\\n}\\n\\n.text-justify[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-evenly;\\n  margin: auto;\\n}\\n\\n.text-justify[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.user-link[_ngcontent-%COMP%] {\\n  color: #505050;\\n  font-weight: 600;\\n}\\n\\n.user-link[_ngcontent-%COMP%]:hover, .lighter-link[_ngcontent-%COMP%]:hover, .std-link[_ngcontent-%COMP%]:hover {\\n  color: #F83A5B;\\n}\\n\\n\\n\\n\\n\\n@media only screen and (max-width: 767px) {\\n  .border-md[_ngcontent-%COMP%] {\\n    border-top: 1px solid #1D1D1D;\\n  }\\n\\n  .centered-sm[_ngcontent-%COMP%] {\\n    text-align: center;\\n  }\\n\\n  .forum-title-container-sm[_ngcontent-%COMP%] {\\n    margin-left: 25px;\\n  }\\n\\n  .hidden-mobile[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n\\n  .icon-container[_ngcontent-%COMP%] {\\n    align-items: flex-end;\\n  }\\n\\n  .last-poster-icon[_ngcontent-%COMP%] {\\n    padding-bottom: 10px;\\n  }\\n\\n  .only-mobile[_ngcontent-%COMP%] {\\n    display: flex;\\n  }\\n\\n  #buttonPanel[_ngcontent-%COMP%] {\\n    margin-bottom: 18px;\\n  }\\n\\n  #userPanel[_ngcontent-%COMP%] {\\n    padding: 18px 0px !important;\\n    justify-content: space-evenly;\\n    margin: 0 0 18px 0 !important;\\n  }\\n\\n  #userWelcome[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n\\n\\n@media only screen and (min-width: 576px) {\\n  .banner[_ngcontent-%COMP%] {\\n    padding: 0px 100px;\\n  }\\n}\\n\\n\\n@media only screen and (min-width: 768px) {\\n  .border-md[_ngcontent-%COMP%] {\\n    border-left: 1px solid #1D1D1D;\\n  }\\n\\n  .col-2.icon-container[_ngcontent-%COMP%] {\\n    flex-direction: row;\\n    justify-content: flex-end;\\n  }\\n}\\n\\n\\n@media only screen and (min-width: 768px) and (max-width: 1200px) {\\n  #registerBtn[_ngcontent-%COMP%] {\\n    width: 90px;\\n  }\\n\\n  #signInBtn[_ngcontent-%COMP%] {\\n    width: 90px;\\n  }\\n\\n  #userWelcome[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci1zZXR0aW5ncy91c2VyLXNldHRpbmdzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2hCO0VBQ0Usc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixZQUFZO0VBQ1osWUFBWTtFQUNaLGFBQWE7RUFDYixhQUFhO0VBQ2IsYUFBYTtFQUNiLGFBQWE7RUFDYixhQUFhO0VBQ2IsYUFBYTtFQUNiLGFBQWE7RUFDYixjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLDJEQUEyRDtFQUMzRCwrREFBK0Q7RUFDL0QsbUVBQW1FO0VBQ25FLHFEQUFxRDtFQUNyRCxxREFBcUQ7RUFDckQsY0FBYztFQUNkLFdBQVc7RUFDWCxhQUFhO0FBQ2Y7O0FBRUEsV0FBVzs7QUFFWDtFQUNFLGNBQWM7RUFDZCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsNEJBQTRCO0FBQzlCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsdUNBQXVDO0VBQ3ZDLFdBQVc7RUFDWCx5SEFBeUg7RUFDekgsMEJBQTBCO0VBQzFCLHlDQUF5QztFQUN6QyxrQkFBa0I7QUFDcEI7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Qjs7RUFFQTtJQUNFLGFBQWE7RUFDZjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLDRCQUE0QjtJQUM1Qiw2QkFBNkI7SUFDN0IsNkJBQTZCO0VBQy9COztFQUVBO0lBQ0UsYUFBYTtFQUNmO0FBQ0Y7O0FBRUEsaUJBQWlCO0FBQ2pCO0VBQ0U7SUFDRSxrQkFBa0I7RUFDcEI7QUFDRjs7QUFFQSxpQkFBaUI7QUFDakI7RUFDRTtJQUNFLDhCQUE4QjtFQUNoQzs7RUFFQTtJQUNFLG1CQUFtQjtJQUNuQix5QkFBeUI7RUFDM0I7QUFDRjs7QUFFQSxlQUFlO0FBQ2Y7RUFDRTtJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLFdBQVc7RUFDYjs7RUFFQTtJQUNFLGFBQWE7RUFDZjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFZhcmlhYmxlcyAqKi9cbjpyb290IHtcbiAgLypzcHg6IHNpemUgaW4gcGl4ZWxzKi9cbiAgLS1zcHgtMDogMHB4O1xuICAtLXNweC0xOiA0cHg7XG4gIC0tc3B4LTI6IDhweDtcbiAgLS1zcHgtMzogMTJweDtcbiAgLS1zcHgtNDogMTZweDtcbiAgLS1zcHgtNTogMjBweDtcbiAgLS1zcHgtNjogMjRweDtcbiAgLS1zcHgtNzogMjhweDtcbiAgLS1zcHgtODogMzJweDtcbiAgLS1zcHgtOTogMzZweDtcbiAgLS1zcHgtMTA6IDQwcHg7XG4gIC8qc3RkOiBzdGFuZGFyZCovXG4gIC0tYm94LS1zdGQtYm94LXNoYWRvdzogMHB4IDVweCA2cHggLTJweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xuICAtLWJveC0tbGlnaHQtYm94LXNoYWRvdzogMHB4IDVweCAxMHB4IDBweCByZ2JhKDQ1LCA1NSwgNzIsIDAuMSk7XG4gIC0tYm94LS1saWdodGVyLWJveC1zaGFkb3c6IDBweCAxMHB4IDIwcHggMnB4IHJnYmEoNDUsIDU1LCA3MiwgMC4yNSk7XG4gIC0tYm94LS1waW5rLWJveC1zaGFkb3ctMTogMHB4IDEwcHggMjBweCAycHggI2ZjMzc1YzgwO1xuICAtLWJveC0tcGluay1ib3gtc2hhZG93LTI6IDBweCAxMHB4IDIwcHggMnB4ICNmYzM3NWM0MDtcbiAgLypGb250IHdlaWdodCovXG4gIC0tYm9sZDogNjAwO1xuICAtLWJvbGRlcjogNzAwO1xufVxuXG4vKiBIRUFERVIgKi9cblxuYSB7XG4gIGNvbG9yOiAjMTcxNzE3O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbmE6aG92ZXIge1xuICBjb2xvcjogd2hpdGU7XG59XG5cbmFbYXJpYS1leHBhbmRlZD10cnVlXSAuZmEtcGx1cyB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbmFbYXJpYS1leHBhbmRlZD1mYWxzZV0gLmZhLW1pbnVzIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmFkbWluVGl0bGUge1xuICBmb250LXdlaWdodDogNzAwO1xuICBjb2xvcjogIzI4NWRlNTtcbn1cblxuYS5hZG1pblRpdGxlOmhvdmVyIHtcbiAgY29sb3I6ICMxNzE3MTc7XG4gIGZvbnQtd2VpZ2h0OiA4MDA7XG59XG5cbi5tb2RUaXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjYjAwMDAwO1xufVxuXG5hLm1vZFRpdGxlOmhvdmVyIHtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgY29sb3I6ICMxNzE3MTc7XG59XG5cbi5tZW1iZXJUaXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiAjNDMzQjYwO1xufVxuXG5hLm1lbWJlclRpdGxlOmhvdmVyIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6ICMxNzE3MTc7XG59XG5cbi5iYWNrZ3JvdW5kLWRhcmsge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlYmQ5O1xufVxuXG4uYmFja2dyb3VuZC1saWdodCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZFRUI7XG59XG5cbi5ib3gge1xuICBtYXJnaW4tdG9wOiA4MHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRyYW5zZm9ybS1zdHlsZTogcHJlc2VydmUtM2Q7XG59XG5cbi5ib3g6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgaW5zZXQ6IC01cHg7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMTBweCwgMHB4LCAtMXB4KTtcbiAgei1pbmRleDogLTE7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSgyNTUsIDI1NCwgMjM1LCAwLjMpIDAlLCByZ2JhKDE2MSwgMTU3LCAxNjYsIDAuMykgNDAlLCByZ2JhKDY3LCA1OSwgOTYsIDAuMykgMTAwJSk7XG4gIGJhY2tncm91bmQtc2l6ZTogNDAwJSA0MDAlO1xuICBhbmltYXRpb246IGJveC1ncmFkaWVudCAxNXMgZWFzZSBpbmZpbml0ZTtcbiAgZmlsdGVyOiBibHVyKDEwcHgpO1xufVxuXG5Aa2V5ZnJhbWVzIGJveC1ncmFkaWVudCB7XG4gIDAlIHtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSA1MCU7XG4gIH1cblxuICA1MCUge1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDEwMCUgNTAlO1xuICB9XG5cbiAgMTAwJSB7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCUgNTAlO1xuICB9XG59XG5cbi5mbGlwIHtcbiAgdHJhbnNmb3JtOiBzY2FsZVgoLTEpO1xufVxuXG4uYnJlYWRjcnVtYiB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi5icmVhZGNydW1iLWl0ZW06aG92ZXIgYSB7XG4gIGNvbG9yOiAjRjgzQTVCO1xufVxuXG4uY2FyZC1ib2R5IHtcbiAgcGFkZGluZy1ib3R0b206IDJweDtcbn1cblxuLmZsZXgtMiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4jZm9vdGVyIHtcbiAgbWFyZ2luLXRvcDogNzVweDtcbiAgYm94LXNoYWRvdzogMCAwIDRweCAxcHggI0ZGRkVFQiwgMCAwIDZweCAycHggI2Y5YTNiMjtcbn1cblxuaGVhZGVyID4gZGl2IHtcbiAgYmFja2dyb3VuZDogcmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgtNTVkZWcsICMyZDI5M2M0MCwgIzJkMjkzYzQwIDBweCwgIzJkMjkzYyAxMHB4LCAjMmQyOTNjIDIwcHgpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWFyZ2luOiA4MHB4IDBweDtcbn1cblxuXG4ubG9nbyB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xufVxuXG4ubG9nby1mb250IHtcbiAgY29sb3I6ICNlM2U0YmI7XG4gIGZvbnQtZmFtaWx5OiAnQ3JlZXBzdGVyJywgY3Vyc2l2ZTtcbiAgZm9udC1zaXplOiA0LjVlbTtcbiAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcbiAgbWFyZ2luOiBhdXRvO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHRleHQtc2hhZG93OiAtM3B4IC0zcHggMCAjMDBmZmZmODAsIDNweCAtM3B4IDAgI0Y4M0E1QjgwLCAtM3B4IDNweCAwICMwMGZmZmY4MCwgM3B4IDNweCAwICNGODNBNUI4MDtcbiAgd29yZC1zcGFjaW5nOiAxcmVtO1xufVxuXG4ubG9nby1pbWcge1xuICBtYXgtd2lkdGg6IDEyMHB4O1xuICBtYXJnaW46IGF1dG87XG59XG5cblxuLyogTUFJTiBDT05URU5UICovXG5cbi5iYWNrZ3JvdW5kLWRhcmsge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWNlYmQ5O1xufVxuXG4uYmFja2dyb3VuZC1saWdodCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZFRUI7XG59XG5cbi5iYW5uZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmQyOTNjO1xuICBtYXJnaW4tdG9wOiAyNXB4O1xuICBtYXJnaW4tYm90dG9tOiAxMDBweDtcbn1cblxuLmJhbm5lci1tZXNzYWdlIHtcbiAgcGFkZGluZzogMThweCAyNHB4O1xuICBtYXJnaW46IGF1dG87XG59XG5cbiNiYW5uZXIge1xuICBib3gtc2hhZG93OiAwIDAgNHB4IDFweCAjRkZGRUVCLCAwIDAgNnB4IDJweCAjZjlhM2IyO1xufVxuXG4jYmFubmVyOmhvdmVyICNyZWdpc3RlckJ0biB7XG4gIGFuaW1hdGlvbjogYm91bmNlIDFzIG5vcm1hbCBmb3J3YXJkcyBlYXNlLWluLW91dDtcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XG59XG5cbi8qIEluc3BpcmVkIGJ5IHRoZSBvbmUgaW4gRm9udEF3ZXNvbWUgKi9cbkBrZXlmcmFtZXMgYm91bmNlIHtcbiAgMTAlIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1zdGFydC1zY2FsZS14LDEuMSksdmFyKC0tZmEtYm91bmNlLXN0YXJ0LXNjYWxlLXksLjkpKSB0cmFuc2xhdGVZKDApO1xuICB9XG5cbiAgMzAlIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWZhLWJvdW5jZS1qdW1wLXNjYWxlLXgsLjkpLHZhcigtLWZhLWJvdW5jZS1qdW1wLXNjYWxlLXksMS4xKSkgdHJhbnNsYXRlWSh2YXIoLS1mYS1ib3VuY2UtaGVpZ2h0LC0uNWVtKSk7XG4gIH1cblxuICA1MCUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUodmFyKC0tZmEtYm91bmNlLWxhbmQtc2NhbGUteCwxLjA1KSx2YXIoLS1mYS1ib3VuY2UtbGFuZC1zY2FsZS15LC45NSkpIHRyYW5zbGF0ZVkoMCk7XG4gIH1cblxuICA1NyUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgdHJhbnNsYXRlWSh2YXIoLS1mYS1ib3VuY2UtcmVib3VuZCwtLjEyNWVtKSk7XG4gIH1cblxuICA2NCUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgdHJhbnNsYXRlWSgwKTtcbiAgfVxuXG4gIDEwMCUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSkgdHJhbnNsYXRlWSgwKTtcbiAgfVxufVxuXG4uYnJlYWRjcnVtYiB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi5mbGV4LTEge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuXG4uaGVhZGVyLWZvbnQge1xuICBjb2xvcjogIzUwNTA1MDtcbiAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi5zdGQtcGluay1idG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmMzNzVjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjMTIzNjc7XG4gIGJveC1zaGFkb3c6IHZhcigtLWJveC0tc3RkLWJveC1zaGFkb3cpO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBwYWRkaW5nOiA1cHggNXB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIHRleHQtc2hhZG93OiAwcHggMXB4IDBweCAjMmQyOTNjO1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5zdGQtcGluay1idG46aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmEyYjQ1O1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXMgZWFzZTtcbn1cblxuLnN0ZC1waW5rLWJ0bjphY3RpdmUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMXB4O1xufVxuXG4uc3RkLXB1cnBsZS1idG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDMzYjYwO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMyZDI5M2M7XG4gIGJveC1zaGFkb3c6IHZhcigtLWJveC0tc3RkLWJveC1zaGFkb3cpO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbDtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBwYWRkaW5nOiA1cHggNXB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIHRleHQtc2hhZG93OiAwcHggMXB4IDBweCAjMmQyOTNjO1xuICB3aWR0aDogMTUwcHg7XG59XG5cbi5zdGQtcHVycGxlLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyZDI5M2M7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xcyBlYXNlO1xufVxuXG4uc3RkLXB1cnBsZS1idG46YWN0aXZlIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDFweDtcbn1cblxuLnRleHQtanVzdGlmeSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICBtYXJnaW46IGF1dG87XG59XG5cbi50ZXh0LWp1c3RpZnkgYSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnVzZXItbGluayB7XG4gIGNvbG9yOiAjNTA1MDUwO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4udXNlci1saW5rOmhvdmVyLCAubGlnaHRlci1saW5rOmhvdmVyLCAuc3RkLWxpbms6aG92ZXIge1xuICBjb2xvcjogI0Y4M0E1Qjtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqIE1lZGlhIGRlcGVuZGVudCBhdHRyaWJ1dGVzICoqL1xuXG4vKiBGUk9NIFhTIFRPIE0gKi9cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHtcbiAgLmJvcmRlci1tZCB7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMxRDFEMUQ7XG4gIH1cblxuICAuY2VudGVyZWQtc20ge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5mb3J1bS10aXRsZS1jb250YWluZXItc20ge1xuICAgIG1hcmdpbi1sZWZ0OiAyNXB4O1xuICB9XG5cbiAgLmhpZGRlbi1tb2JpbGUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAuaWNvbi1jb250YWluZXIge1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgfVxuXG4gIC5sYXN0LXBvc3Rlci1pY29uIHtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgfVxuXG4gIC5vbmx5LW1vYmlsZSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgfVxuXG4gICNidXR0b25QYW5lbCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMThweDtcbiAgfVxuXG4gICN1c2VyUGFuZWwge1xuICAgIHBhZGRpbmc6IDE4cHggMHB4ICFpbXBvcnRhbnQ7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG4gICAgbWFyZ2luOiAwIDAgMThweCAwICFpbXBvcnRhbnQ7XG4gIH1cblxuICAjdXNlcldlbGNvbWUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbn1cblxuLyogRlJPTSBTIFRPIFhMICovXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDU3NnB4KSB7XG4gIC5iYW5uZXIge1xuICAgIHBhZGRpbmc6IDBweCAxMDBweDtcbiAgfVxufVxuXG4vKiBGUk9NIE0gVE8gWEwgKi9cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgLmJvcmRlci1tZCB7XG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjMUQxRDFEO1xuICB9XG5cbiAgLmNvbC0yLmljb24tY29udGFpbmVyIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIH1cbn1cblxuLyogRlJPTSBNIFRPIEwqL1xuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDEyMDBweCkge1xuICAjcmVnaXN0ZXJCdG4ge1xuICAgIHdpZHRoOiA5MHB4O1xuICB9XG5cbiAgI3NpZ25JbkJ0biB7XG4gICAgd2lkdGg6IDkwcHg7XG4gIH1cblxuICAjdXNlcldlbGNvbWUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","UserSettingsComponent","constructor","authService","formBuilder","email","username","id","ngOnInit","initializeForm","loadCurrentUser","userId","localStorage","getItem","getUserDetails","subscribe","next","user","currentUser","updateFormValues","error","err","console","settingsForm","group","required","password","minLength","patchValue","onProfilePictureChange","event","onUpdateSettings","valid","loading","updatedUserData","value","updateUserDetails","response","log","errorMessage","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/brageeilertsen/RiderProjects/AngularBevgobs1/AngularBevgobs/ClientApp/src/app/user-settings/user-settings.component.ts","/Users/brageeilertsen/RiderProjects/AngularBevgobs1/AngularBevgobs/ClientApp/src/app/user-settings/user-settings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'app-user-settings',\n  templateUrl: './user-settings.component.html',\n  styleUrls: ['./user-settings.component.css']\n})\nexport class UserSettingsComponent implements OnInit {\n  // Initialize currentUser with default values to avoid null/undefined issues\n  currentUser: any = {\n    email: '',\n    username: '',\n    id: null,\n    // Add other properties if necessary\n  };\n  settingsForm!: FormGroup;\n  loading = false;\n  errorMessage: string = '';\n\n  constructor(\n    private authService: AuthService,\n    private formBuilder: FormBuilder\n  ) {}\n\n  ngOnInit() {\n    this.initializeForm();\n    this.loadCurrentUser();\n  }\n\n  private loadCurrentUser() {\n    const userId = localStorage.getItem('userId');\n    if (userId) {\n      this.authService.getUserDetails(+userId).subscribe({\n        next: (user) => {\n          this.currentUser = user;\n          this.updateFormValues(user);\n        },\n        error: (err) => {\n          console.error('Error fetching user details:', err);\n        }\n      });\n    } else {\n      console.error('User ID not found in local storage');\n    }\n  }\n\n  private initializeForm() {\n    this.settingsForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      username: ['', Validators.required],\n      password: ['', [Validators.minLength(8)]]\n    });\n  }\n\n  private updateFormValues(user: any) {\n    this.settingsForm.patchValue({\n      email: user.email,\n      username: user.username\n      // Update other form controls here if needed\n    });\n  }\n\n  onProfilePictureChange(event: any) {\n    // Handle profile picture change here\n  }\n\n  onUpdateSettings() {\n    if (this.settingsForm.valid) {\n      this.loading = true;\n      const updatedUserData = {\n        ...this.settingsForm.value,\n        id: this.currentUser.id // Ensure the user ID is included\n      };\n\n      this.authService.updateUserDetails(this.currentUser.id, updatedUserData).subscribe({\n        next: (response) => {\n          console.log('User settings updated', response);\n          this.loading = false;\n          this.currentUser = {\n            ...this.currentUser,\n            ...updatedUserData\n          };\n        },\n        error: (err) => {\n          this.errorMessage = 'Error updating user settings';\n          console.error('Error updating user settings:', err);\n          this.loading = false;\n        }\n      });\n    }\n  }\n}\n","<div style=\"display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px;\">\n  <section class=\"settings-card\" style=\"max-width: 2000px; margin: auto; width: 100%;\">\n    <div class=\"row d-flex justify-content-center col-12 mb-5\">\n      <div class=\"col-5 border-pink rounded m-20 background-light card pb-2\">\n        <form [formGroup]=\"settingsForm\" (ngSubmit)=\"onUpdateSettings()\">\n\n          <div class=\"d-flex justify-content-center\">\n            <h1 class=\"h3 mb-3 mt-4 std-color\">User Settings</h1>\n          </div>\n\n          <hr />\n\n          <div class=\"form-floating mb-2\">\n            <input type=\"email\" class=\"form-control custom-form-control\"\n                   formControlName=\"email\">\n            <label class=\"form-label custom-form-label\">\n              <i class=\"fa-regular fa-envelope\"></i>\n              <span>E-mail</span>\n            </label>\n          </div>\n\n          <div class=\"form-floating mb-2\">\n            <input type=\"text\" class=\"form-control custom-form-control\"\n                   formControlName=\"username\">\n            <label class=\"form-label custom-form-label\">\n              <i class=\"fa-solid fa-user\"></i>\n              <span>Username</span>\n            </label>\n          </div>\n\n          <div class=\"form-floating mb-2\">\n            <input type=\"password\" class=\"form-control custom-form-control\"\n                   formControlName=\"password\">\n            <label class=\"form-label custom-form-label\">\n              <i class=\"fa-solid fa-lock\"></i>\n              <span>Password</span>\n            </label>\n          </div>\n\n          <!-- Profile Picture Upload -->\n          <div class=\"mb-2\">\n            <input type=\"file\" (change)=\"onProfilePictureChange($event)\" name=\"profilePicture\">\n          </div>\n\n          <div *ngIf=\"errorMessage\" class=\"error-message\">\n            {{ errorMessage }}\n          </div>\n\n          <div class=\"d-flex\">\n            <button type=\"submit\" class=\"mb-3 std-purple-btn m-auto\" [disabled]=\"!settingsForm.valid\">Update Settings</button>\n          </div>\n\n        </form>\n      </div>\n    </div>\n  </section>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}