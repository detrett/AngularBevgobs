{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./thread.service\";\nimport * as i3 from \"src/app/services/authentication.service\";\nimport * as i4 from \"@angular/common\";\nfunction ThreadContainerComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-comment-list\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const comment_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"comment\", comment_r3);\n  }\n}\nfunction ThreadContainerComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-comment-box\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"thread\", ctx_r1.thread);\n  }\n}\nfunction ThreadContainerComponent_section_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"section\", 18);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/subforum\", a1];\n};\nexport class ThreadContainerComponent {\n  constructor(_route, _router, _threadService, _authService // Inject authentication service\n  ) {\n    this._route = _route;\n    this._router = _router;\n    this._threadService = _threadService;\n    this._authService = _authService;\n    this.thread = null;\n    this.isAuthenticated = false; // Variable to track authentication status\n  }\n\n  getThreadData(id) {\n    this._threadService.getThreadById(+id).subscribe(data => {\n      this.thread = data;\n    }, error => {\n      console.error('Error fetching thread:', error);\n      this._router.navigate(['/']);\n    });\n  }\n  ngOnInit() {\n    this.isAuthenticated = this._authService.isAuthenticated(); // Check authentication status\n    this._route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.getThreadData(+id);\n      } else {\n        console.error('Thread ID is missing');\n        this._router.navigate(['/']);\n      }\n    });\n  }\n  // Methods to handle editing and deleting the thread\n  editThread() {\n    // Implement the logic to edit the thread\n    console.log(\"Edit thread functionality goes here.\");\n  }\n  deleteThread() {\n    // Implement the logic to delete the thread\n    console.log(\"Delete thread functionality goes here.\");\n  }\n  static #_ = this.ɵfac = function ThreadContainerComponent_Factory(t) {\n    return new (t || ThreadContainerComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ThreadService), i0.ɵɵdirectiveInject(i3.AuthService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ThreadContainerComponent,\n    selectors: [[\"app-thread-container\"]],\n    decls: 22,\n    vars: 11,\n    consts: [[1, \"row\"], [\"id\", \"title\", 1, \"col\"], [1, \"title-font\"], [1, \"pager-container\", \"topic-listing-link\", \"mt-4\"], [3, \"routerLink\"], [1, \"fa-solid\", \"fa-chevron-left\"], [1, \"\"], [1, \"thread-container\", \"background-dark\", \"card\", \"row\"], [1, \"d-inline-flex\"], [1, \"thread-page-title\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"teaser-background card comment-container\", 4, \"ngIf\"], [1, \"pager-container\", \"topic-listing-link\"], [\"href\", \"#\", \"id\", \"back-to-top-button\", \"data-bs-toggle\", \"tooltip\", \"title\", \"Back to top\"], [1, \"fa-solid\", \"fa-arrow-up\"], [3, \"comment\"], [3, \"thread\"], [1, \"teaser-background\", \"card\", \"comment-container\"]],\n    template: function ThreadContainerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"a\", 4);\n        i0.ɵɵelement(6, \"i\", 5);\n        i0.ɵɵtext(7, \" Go back to topic listing \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"section\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"h2\", 9);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(13, ThreadContainerComponent_div_13_Template, 2, 1, \"div\", 10);\n        i0.ɵɵtemplate(14, ThreadContainerComponent_div_14_Template, 2, 1, \"div\", 11);\n        i0.ɵɵtemplate(15, ThreadContainerComponent_section_15_Template, 1, 0, \"section\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 13)(17, \"a\", 4);\n        i0.ɵɵelement(18, \"i\", 5);\n        i0.ɵɵtext(19, \" Go back to topic listing \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"a\", 14);\n        i0.ɵɵelement(21, \"i\", 15);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.thread == null ? null : ctx.thread.ParentId);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, ctx.thread == null ? null : ctx.thread.ParentId));\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.thread == null ? null : ctx.thread.Name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.thread == null ? null : ctx.thread.Comments);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c0, ctx.thread == null ? null : ctx.thread.ParentId));\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i1.RouterLink],\n    styles: [\"body[_ngcontent-%COMP%] {\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGhyZWFkL3RocmVhZC1jb250YWluZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;IAwBIA,2BAA8C;IAC5CA,uCAAyD;IAC3DA,iBAAM;;;;IADcA,eAAmB;IAAnBA,oCAAmB;;;;;IAIvCA,2BAA6B;IAC3BA,sCAAqD;IACvDA,iBAAM;;;;IADaA,eAAiB;IAAjBA,sCAAiB;;;;;IAIpCA,8BAEU;;;;;;ACtBd,OAAM,MAAOC,wBAAwB;EAInCC,YACUC,MAAsB,EACtBC,OAAe,EACfC,cAA6B,EAC7BC,YAAyB,CAAC;EAAA;IAH1B,WAAM,GAANH,MAAM;IACN,YAAO,GAAPC,OAAO;IACP,mBAAc,GAAdC,cAAc;IACd,iBAAY,GAAZC,YAAY;IAPtB,WAAM,GAAmB,IAAI;IAC7B,oBAAe,GAAY,KAAK,CAAC,CAAC;EAO9B;;EAEJC,aAAa,CAACC,EAAU;IACtB,IAAI,CAACH,cAAc,CAACI,aAAa,CAAC,CAACD,EAAE,CAAC,CAACE,SAAS,CAC9CC,IAAI,IAAG;MACL,IAAI,CAACC,MAAM,GAAGD,IAAI;IACpB,CAAC,EACDE,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,IAAI,CAACT,OAAO,CAACW,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC,CACF;EACH;EAEAC,QAAQ;IACN,IAAI,CAACC,eAAe,GAAG,IAAI,CAACX,YAAY,CAACW,eAAe,EAAE,CAAC,CAAC;IAE5D,IAAI,CAACd,MAAM,CAACe,QAAQ,CAACR,SAAS,CAACS,MAAM,IAAG;MACtC,MAAMX,EAAE,GAAGW,MAAM,CAACC,GAAG,CAAC,IAAI,CAAC;MAC3B,IAAIZ,EAAE,EAAE;QACN,IAAI,CAACD,aAAa,CAAC,CAACC,EAAE,CAAC;OACxB,MAAM;QACLM,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAC;QACrC,IAAI,CAACT,OAAO,CAACW,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;IAEhC,CAAC,CAAC;EACJ;EAEA;EACAM,UAAU;IACR;IACAP,OAAO,CAACQ,GAAG,CAAC,sCAAsC,CAAC;EACrD;EAEAC,YAAY;IACV;IACAT,OAAO,CAACQ,GAAG,CAAC,wCAAwC,CAAC;EACvD;EAAC;qBA9CUrB,wBAAwB;EAAA;EAAA;UAAxBA,wBAAwB;IAAAuB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDbrC5B,8BAAiB;QAEUA,YAAoB;QAAAA,iBAAK;QAKpDA,8BAAqD;QAEjDA,uBAAwC;QAACA,0CAC3C;QAAAA,iBAAI;QAINA,kCAAkB;QAIkBA,aAAgB;QAAAA,iBAAK;QAKrDA,4EAEM;QAGNA,4EAEM;QAGNA,oFAEU;QACZA,iBAAM;QAKRA,gCAAgD;QAE5CA,wBAAwC;QAACA,2CAC3C;QAAAA,iBAAI;QAMNA,8BAAiF;QAC/EA,yBAAoC;QACtCA,iBAAI;;;QAlDuBA,eAAoB;QAApBA,qEAAoB;QAM1CA,eAA8C;QAA9CA,wGAA8C;QAUfA,eAAgB;QAAhBA,iEAAgB;QAKvBA,eAAmB;QAAnBA,yEAAmB;QAKtCA,eAAqB;QAArBA,0CAAqB;QAKgCA,eAAsB;QAAtBA,2CAAsB;QAShFA,eAA8C;QAA9CA,wGAA8C","names":["i0","ThreadContainerComponent","constructor","_route","_router","_threadService","_authService","getThreadData","id","getThreadById","subscribe","data","thread","error","console","navigate","ngOnInit","isAuthenticated","paramMap","params","get","editThread","log","deleteThread","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/brageeilertsen/RiderProjects/AngularBevgobs1/AngularBevgobs/ClientApp/src/app/thread/thread-container.component.html","/Users/brageeilertsen/RiderProjects/AngularBevgobs1/AngularBevgobs/ClientApp/src/app/thread/thread-container.component.ts"],"sourcesContent":["<!--Subforum Title-->\n<div class=\"row\">\n  <div class=\"col\" id=\"title\">\n    <h1 class=\"title-font\">{{thread?.ParentId}}</h1>\n  </div>\n</div>\n\n<!--Go back to thread list-->\n<div class=\"pager-container topic-listing-link mt-4\">\n  <a [routerLink]=\"['/subforum', thread?.ParentId]\">\n    <i class=\"fa-solid fa-chevron-left\"></i> Go back to topic listing\n  </a>\n</div>\n\n<!--Start of Thread Container-->\n<section class=\"\">\n  <div class=\"thread-container background-dark card row\">\n    <!--Thread title-->\n    <div class=\"d-inline-flex\">\n      <h2 class=\"thread-page-title\">{{thread?.Name}}</h2>\n      <!-- Edit and Delete buttons (conditionally rendered) -->\n    </div>\n\n    <!--Comments Section-->\n    <div *ngFor=\"let comment of thread?.Comments\">\n      <app-comment-list [comment]=\"comment\"></app-comment-list>\n    </div>\n\n    <!-- Comment Box (conditionally rendered for authenticated users) -->\n    <div *ngIf=\"isAuthenticated\">\n      <app-comment-box [thread]=\"thread\"></app-comment-box>\n    </div>\n\n    <!--Guest teaser (conditionally rendered for guests)-->\n    <section class=\"teaser-background card comment-container\" *ngIf=\"!isAuthenticated\">\n      <!-- Guest Teaser Content -->\n    </section>\n  </div>\n</section>\n<!--End of Thread Container-->\n\n<!--Go back to thread list-->\n<div class=\"pager-container topic-listing-link\">\n  <a [routerLink]=\"['/subforum', thread?.ParentId]\">\n    <i class=\"fa-solid fa-chevron-left\"></i> Go back to topic listing\n  </a>\n</div>\n\n<!-- Modals for Editing and Deleting threads -->\n\n<!--Back to top button-->\n<a href=\"#\" id=\"back-to-top-button\" data-bs-toggle=\"tooltip\" title=\"Back to top\">\n  <i class=\"fa-solid fa-arrow-up\"></i>\n</a>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IThread } from './thread';\nimport { ThreadService } from './thread.service';\nimport {from} from \"rxjs\";\nimport { AuthService } from 'src/app/services/authentication.service';\n\n\n@Component({\n  selector: 'app-thread-container',\n  templateUrl: './thread-container.component.html',\n  styleUrls: ['./thread-container.component.css']\n})\n\nexport class ThreadContainerComponent implements OnInit {\n  thread: IThread | null = null;\n  isAuthenticated: boolean = false; // Variable to track authentication status\n\n  constructor(\n    private _route: ActivatedRoute,\n    private _router: Router,\n    private _threadService: ThreadService,\n    private _authService: AuthService // Inject authentication service\n  ) { }\n\n  getThreadData(id: number): void {\n    this._threadService.getThreadById(+id).subscribe(\n      data => {\n        this.thread = data;\n      },\n      error => {\n        console.error('Error fetching thread:', error);\n        this._router.navigate(['/']);\n      }\n    );\n  }\n\n  ngOnInit(): void {\n    this.isAuthenticated = this._authService.isAuthenticated(); // Check authentication status\n\n    this._route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.getThreadData(+id);\n      } else {\n        console.error('Thread ID is missing');\n        this._router.navigate(['/']);\n      }\n    });\n  }\n\n  // Methods to handle editing and deleting the thread\n  editThread(): void {\n    // Implement the logic to edit the thread\n    console.log(\"Edit thread functionality goes here.\");\n  }\n\n  deleteThread(): void {\n    // Implement the logic to delete the thread\n    console.log(\"Delete thread functionality goes here.\");\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}