{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.loginData = {\n      email: '',\n      password: ''\n    };\n  }\n  onLogin() {\n    this.authService.login(this.loginData.email, this.loginData.password).subscribe(data => {\n      if (data && data.token) {\n        console.log('Login successful', data);\n        localStorage.setItem('token', data.token);\n        this.router.navigate(['/']);\n      } else {\n        console.error('Login failed: Invalid response from the server');\n      }\n    }, error => {\n      console.error('Login failed', error);\n      if (error.status === 400) {\n        const errorResponse = error.error;\n        if (errorResponse && errorResponse.message) {\n          console.error('Bad Request:', errorResponse.message);\n        } else {\n          console.error('Bad Request: Invalid email or password');\n        }\n      } else {\n        console.error('An unexpected error occurred. Please try again later.');\n      }\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 25,\n    vars: 3,\n    consts: [[2, \"display\", \"flex\", \"justify-content\", \"center\", \"align-items\", \"center\", \"min-height\", \"100vh\", \"padding\", \"20px\"], [1, \"register-card\", 2, \"max-width\", \"2000px\", \"margin\", \"auto\", \"width\", \"100%\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"col-12\", \"mb-5\"], [1, \"col-5\", \"border-pink\", \"rounded\", \"m-20\", \"background-light\", \"card\", \"pb-2\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"d-flex\", \"justify-content-center\"], [1, \"h3\", \"mb-3\", \"mt-4\", \"std-color\"], [1, \"form-floating\", \"mb-2\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", \"custom-form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-label\", \"custom-form-label\"], [1, \"fa-regular\", \"fa-envelope\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", \"custom-form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fa-solid\", \"fa-key\"], [1, \"d-flex\"], [\"type\", \"submit\", 1, \"mb-3\", \"login-purple-btn\", \"m-auto\", 3, \"disabled\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.onLogin();\n        });\n        i0.ɵɵelementStart(6, \"div\", 6)(7, \"h1\", 7);\n        i0.ɵɵtext(8, \"Sign in\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(9, \"hr\");\n        i0.ɵɵelementStart(10, \"div\", 8)(11, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.loginData.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"label\", 10);\n        i0.ɵɵelement(13, \"i\", 11);\n        i0.ɵɵelementStart(14, \"span\");\n        i0.ɵɵtext(15, \"E-mail\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"div\", 8)(17, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.loginData.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"label\", 10);\n        i0.ɵɵelement(19, \"i\", 13);\n        i0.ɵɵelementStart(20, \"span\");\n        i0.ɵɵtext(21, \"Password\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"div\", 14)(23, \"button\", 15);\n        i0.ɵɵtext(24, \"Log in\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.loginData.email);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.loginData.password);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", !_r0.valid);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;AASA,OAAM,MAAOA,cAAc;EAMzBC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAL5D,cAAS,GAAG;MACVC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;KACX;EAGD;EAEAC,OAAO;IACL,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC,IAAI,CAACC,SAAS,CAACJ,KAAK,EAAE,IAAI,CAACI,SAAS,CAACH,QAAQ,CAAC,CAACI,SAAS,CAC5EC,IAAI,IAAI;MACP,IAAIA,IAAI,IAAIA,IAAI,CAACC,KAAK,EAAE;QACtBC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEH,IAAI,CAAC;QACrCI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,IAAI,CAACC,KAAK,CAAC;QACzC,IAAI,CAACR,MAAM,CAACa,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;OAC5B,MAAM;QACLJ,OAAO,CAACK,KAAK,CAAC,gDAAgD,CAAC;;IAEnE,CAAC,EACAA,KAAK,IAAI;MACRL,OAAO,CAACK,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MAEpC,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;QACxB,MAAMC,aAAa,GAAGF,KAAK,CAACA,KAAK;QACjC,IAAIE,aAAa,IAAIA,aAAa,CAACC,OAAO,EAAE;UAC1CR,OAAO,CAACK,KAAK,CAAC,cAAc,EAAEE,aAAa,CAACC,OAAO,CAAC;SACrD,MAAM;UACLR,OAAO,CAACK,KAAK,CAAC,wCAAwC,CAAC;;OAE1D,MAAM;QACLL,OAAO,CAACK,KAAK,CAAC,uDAAuD,CAAC;;IAE1E,CAAC,CACF;EACH;EAAC;qBAnCUjB,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAqB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCT3BC,8BAA4G;QAK5EA;UAAA,OAAYC,aAAS;QAAA,EAAC;QAE9CD,8BAA2C;QACNA,uBAAO;QAAAA,iBAAK;QAGjDA,qBAAM;QAENA,+BAAgC;QAEvBA;UAAA;QAAA,EAA6B;QADpCA,iBAC2D;QAC3DA,kCAA4C;QAC1CA,yBAAsC;QACtCA,6BAAM;QAAAA,uBAAM;QAAAA,iBAAO;QAIvBA,+BAAgC;QAEvBA;UAAA;QAAA,EAAgC;QADvCA,iBACiE;QACjEA,kCAA4C;QAC1CA,yBAA+B;QAC/BA,6BAAM;QAAAA,yBAAQ;QAAAA,iBAAO;QAIzBA,gCAAoB;QACuEA,uBAAM;QAAAA,iBAAS;;;;QAjBjGA,gBAA6B;QAA7BA,6CAA6B;QAS7BA,eAAgC;QAAhCA,gDAAgC;QAQoBA,eAA6B;QAA7BA,qCAA6B","names":["LoginComponent","constructor","authService","router","email","password","onLogin","login","loginData","subscribe","data","token","console","log","localStorage","setItem","navigate","error","status","errorResponse","message","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/brageeilertsen/RiderProjects/AngularBevgobs1/AngularBevgobs/ClientApp/src/app/login/login.component.ts","/Users/brageeilertsen/RiderProjects/AngularBevgobs1/AngularBevgobs/ClientApp/src/app/login/login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  loginData = {\n    email: '',\n    password: ''\n  };\n\n  constructor(private authService: AuthService, private router: Router) {\n  }\n\n  onLogin() {\n    this.authService.login(this.loginData.email, this.loginData.password).subscribe(\n      (data) => {\n        if (data && data.token) {\n          console.log('Login successful', data);\n          localStorage.setItem('token', data.token);\n          this.router.navigate(['/']);\n        } else {\n          console.error('Login failed: Invalid response from the server');\n        }\n      },\n      (error) => {\n        console.error('Login failed', error);\n\n        if (error.status === 400) {\n          const errorResponse = error.error;\n          if (errorResponse && errorResponse.message) {\n            console.error('Bad Request:', errorResponse.message);\n          } else {\n            console.error('Bad Request: Invalid email or password');\n          }\n        } else {\n          console.error('An unexpected error occurred. Please try again later.');\n        }\n      }\n    );\n  }\n}\n","<div style=\"display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px;\">\n  <section class=\"register-card\" style=\"max-width: 2000px; margin: auto; width: 100%;\">\n  <div class=\"row d-flex justify-content-center col-12 mb-5\">\n    <div class=\"col-5 border-pink rounded m-20 background-light card pb-2\">\n\n      <form #loginForm=\"ngForm\" (ngSubmit)=\"onLogin()\">\n\n        <div class=\"d-flex justify-content-center\">\n          <h1 class=\"h3 mb-3 mt-4 std-color\">Sign in</h1>\n        </div>\n\n        <hr />\n\n        <div class=\"form-floating mb-2\">\n          <input type=\"email\" class=\"form-control custom-form-control\"\n                 [(ngModel)]=\"loginData.email\" name=\"email\" required>\n          <label class=\"form-label custom-form-label\">\n            <i class=\"fa-regular fa-envelope\"></i>\n            <span>E-mail</span>\n          </label>\n        </div>\n\n        <div class=\"form-floating mb-2\">\n          <input type=\"password\" class=\"form-control custom-form-control\"\n                 [(ngModel)]=\"loginData.password\" name=\"password\" required>\n          <label class=\"form-label custom-form-label\">\n            <i class=\"fa-solid fa-key\"></i>\n            <span>Password</span>\n          </label>\n        </div>\n\n        <div class=\"d-flex\">\n          <button type=\"submit\" class=\"mb-3 login-purple-btn m-auto\" [disabled]=\"!loginForm.valid\">Log in</button>\n        </div>\n\n\n      </form>\n    </div>\n  </div>\n</section>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}